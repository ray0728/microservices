<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<body>

<div th:fragment="topbar">
    <!-- ##### Header Area Start ##### -->
    <header class="header-area">
        <!-- Top Header Area -->
        <div class="top-header">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <!-- Breaking News Area -->
                    <div id="newsarea" class="col-12 col-sm-10">
                        <div class="breaking-news-area" th:fragment="news">
                            <div id="breakingNewsTicker" class="ticker" style="height: 24px;">
                                <ul>
                                    <li th:each="news:${newslist}"><a th:href="${news.url}" th:text="${news.title}"></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Top Social Area -->
                    <div class="col-12 col-sm-2">
                        <div class="top-social-area">
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Weibo"><i
                                    class="fa fa-weibo" aria-hidden="true"></i></a>
                            <a href="https://github.com/ray0728" data-toggle="tooltip" data-placement="bottom"
                               title="Github"><i
                                    class="fa fa-github" aria-hidden="true"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logo Area -->
        <div class="logo-area text-center">
            <div class="container h-100">
                <div class="row h-100 align-items-center">
                    <div class="col-12">
                        <a href="/home" class="original-logo"><img src="/global/img/core-img/logo.png" alt=""></a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Nav Area -->
        <div class="original-nav-area" id="stickyNav">
            <div class="classy-nav-container breakpoint-off">
                <div class="container">
                    <!-- Classy Menu -->
                    <nav class="classy-navbar justify-content-between">

                        <ul class="navbar-nav" sec:authorize="!isAuthenticated()">
                            <div class="btn-group">
                                <a class="btn btn-outline-light" href="/login">Sign in</a>
                                <a class="btn btn-outline-light ml-1" href="/join">Sign up</a>
                            </div>
                        </ul>
                        <ul class="navbar-nav" sec:authorize="isAuthenticated()">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown"
                                   sec:authentication="name"></a>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#">Notifications</a>
                                    <a class="dropdown-item" href="/blog/edit">Create Blog</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="#">Profile</a>
                                    <a class="dropdown-item" href="#">Settings</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href="/logout">Logout</a>
                                </div>
                            </li>
                        </ul>

                        <!-- Navbar Toggler -->
                        <div class="classy-navbar-toggler">
                            <span class="navbarToggler"><span></span><span></span><span></span></span>
                        </div>

                        <!-- Menu -->
                        <div class="classy-menu" id="originalNav">
                            <!-- close btn -->
                            <div class="classycloseIcon">
                                <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                            </div>

                            <!-- Nav Start -->
                            <div class="classynav">
                                <ul>
                                    <li><a href="/">Home</a></li>
                                    <li><a href="#">Blog</a>
                                        <ul class="dropdown">
                                            <li><a href="/blog/list">All</a></li>
                                            <li th:each="category:${categories}"><a
                                                    th:href="${'/blog/list?cid=' + category.cid}"
                                                    th:text="${category.desc}"></a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><a href="/about">About Us</a></li>
                                    <li><a href="/contact">Contact</a></li>
                                </ul>

                                <!-- Search Form  -->
                                <div id="search-wrapper">
                                    <form action="#">
                                        <input type="text" id="search" placeholder="Search something...">
                                        <div id="close-icon"></div>
                                        <input class="d-none" type="submit" value="">
                                    </form>
                                </div>
                            </div>
                            <!-- Nav End -->
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>
</div>
<div th:fragment="bottombar">
    <footer class="footer-area text-center">
        Copyright &copy;<script>document.write(new Date().getFullYear());</script>
        RCIRCLE
        All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a
            href="https://colorlib.com" target="_blank">Colorlib</a>
    </footer>
</div>
<div th:fragment="sidebar">
    <div class="post-sidebar-area">
        <!-- Widget Area -->
        <div class="sidebar-widget-area">
            <h5 class="title">Advertisement</h5>
            <a href="#"><img src="/global/img/bg-img/add.gif" alt=""></a>
        </div>

        <!-- Widget Area -->
        <div class="sidebar-widget-area" th:if="${top.size() > 0}">
            <h5 class="title">Hot Posts</h5>
            <div class="widget-content">
                <div th:each="post:${top}" class="single-blog-post d-flex align-items-center widget-post">
                    <!-- Post Thumbnail -->
                    <div class="post-thumbnail">
                        <img class="img-fluid" th:src="${post.cover}" alt="">
                    </div>
                    <!-- Post Content -->
                    <div class="post-content">
                        <a th:href="${'/blog/list?cid=' + post.category.cid}" class="post-tag"
                           th:text="${post.category.desc}"></a>
                        <h4><a th:href="${'/blog/article?id=' + post.id}" class="post-headline"
                               th:text="${post.title}"></a></h4>
                        <div class="post-meta">
                            <p><a th:text="${post.createDate}"></a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Widget Area -->
        <div class="sidebar-widget-area" th:if="${tags.size() > 0}">
            <h5 class="title">Tags</h5>
            <div class="widget-content">
                <ul class="tags">
                    <li th:each="tag:${tags}"><a th:href="${'/blog/list?tid=' + tag.id}" th:text="${tag.desc}"></a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</body>
</html>
